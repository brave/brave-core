name: Alert Unsigned Commits
# pull_request_review:
#   types: [submitted]
on:
  pull_request:
    types: [closed, reopened]
  pull_request_review_comment:
  push:
    branches:
      - "aka/alert-on-unsigned-commits"

permissions:
  pull-requests: write

env:
  GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  PR_NUMBER: ${{ github.event.number }}

jobs:
  alert-unsigned:
    # if: github.event.review.state == 'approved'
    name: Alert Unsigned Commits
    runs-on: ubuntu-latest
    steps:
      - name: Assign author to PR
        run: |
          echo "$PR_NUMBER"
          env | grep -i GIT | sort
          gh api -H "Accept: application/vnd.github+json" /repos/brave/brave-core/commits/${GITHUB_SHA}
