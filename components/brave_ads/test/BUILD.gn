# Copyright (c) 2019 The Brave Authors. All rights reserved.
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this file,
# You can obtain one at http://mozilla.org/MPL/2.0/. */

import("//brave/build/config.gni")
import("//brave/components/brave_ads/browser/buildflags/buildflags.gni")
import("//build/config/sanitizers/sanitizers.gni")
import("//testing/test.gni")

source_set("brave_ads_unit_tests") {
  testonly = true
  if (brave_ads_enabled) {
    sources = [
      "//brave/components/brave_ads/browser/ads_service_impl_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/account/ad_rewards/ad_grants/ad_grants_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/account/ad_rewards/ad_rewards_delegate_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/account/ad_rewards/ad_rewards_delegate_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/account/ad_rewards/payments/payments_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/account/statement/statement_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_pacing/ad_notifications/ad_notification_pacing_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_serving/ad_targeting/models/behavioral/bandits/epsilon_greedy_bandit_model_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_serving/ad_targeting/models/behavioral/purchase_intent/purchase_intent_model_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_serving/ad_targeting/models/contextual/text_classification/text_classification_model_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/ad_targeting_segment_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/ad_targeting_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/processors/behavioral/bandits/epsilon_greedy_bandit_processor_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/processors/behavioral/purchase_intent/purchase_intent_processor_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/processors/contextual/text_classification/text_classification_processor_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/resources/behavioral/bandits/epsilon_greedy_bandit_resource_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/resources/behavioral/purchase_intent/purchase_intent_resource_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_targeting/resources/contextual/text_classification/text_classification_resource_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ad_transfer/ad_transfer_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ads_client_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ads_client_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ads_history/ads_history_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ads_history/filters/ads_history_confirmation_filter_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ads_history/filters/ads_history_date_range_filter_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ads_history/sorts/ads_history_sort_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/base64_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/catalog/catalog_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/catalog/catalog_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/container_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/conversions/conversions_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/conversions/sorts/conversions_sort_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/ad_events_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/campaigns_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/conversion_queue_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/conversions_database_table_test.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/conversions_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_ad_notifications_database_table_test.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_ad_notifications_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_ads_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_new_tab_page_ads_database_table_test.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_new_tab_page_ads_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_promoted_content_ads_database_table_test.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/creative_promoted_content_ads_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/dayparts_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/geo_targets_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/database/tables/segments_database_table_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/eligible_ads/ad_notifications/eligible_ad_notifications_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/features/ad_rewards/ad_rewards_features_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/features/ad_serving/ad_serving_features_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/features/bandits/epsilon_greedy_bandit_features_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/features/purchase_intent/purchase_intent_features_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/features/text_classification/text_classification_features_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/features/user_activity/user_activity_features_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/conversion_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/daily_cap_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/daypart_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/dismissed_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/marked_as_inappropriate_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/marked_to_no_longer_receive_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/new_tab_page_ad_uuid_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/per_day_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/per_hour_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/promoted_content_ad_uuid_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/subdivision_targeting_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/total_max_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/exclusion_rules/transferred_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/frequency_capping_unittest_util.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/frequency_capping_unittest_util.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/ads_per_day_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/ads_per_hour_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/allow_notifications_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/browser_is_active_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/catalog_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/do_not_disturb_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/media_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/minimum_wait_time_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/network_connection_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/new_tab_page_ads_per_day_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/new_tab_page_ads_per_hour_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/promoted_content_ads_per_day_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/promoted_content_ads_per_hour_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/unblinded_tokens_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/frequency_capping/permission_rules/user_activity_frequency_cap_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/idle_time_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/legacy_migration/legacy_migration_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/locale/country_code_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/locale/subdivision_code_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/data/text_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/data/vector_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/ml_prediction_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/ml_transformation_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/model/linear/linear_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/pipeline/pipeline_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/pipeline/text_processing/text_processing_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/transformation/hash_vectorizer_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/transformation/hashed_ngrams_transformation_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/transformation/lowercase_transformation_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/ml/transformation/normalization_transformation_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/number_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/p2a/p2a_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/platform/platform_helper_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/platform/platform_helper_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/privacy_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/tokens/token_generator_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/tokens/token_generator_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/tokens/token_generator_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/unblinded_tokens/unblinded_tokens_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/unblinded_tokens/unblinded_tokens_unittest_util.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/privacy/unblinded_tokens/unblinded_tokens_unittest_util.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/security/conversions/conversions_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/security/crypto_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/server/ads_serve_server_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/server/ads_server_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/server/confirmations_server_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/server/rewards_server_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/server/via_header_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/settings/settings_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/string_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tab_manager/tab_manager_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_payment_tokens/redeem_unblinded_payment_tokens_delegate_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_payment_tokens/redeem_unblinded_payment_tokens_delegate_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_payment_tokens/redeem_unblinded_payment_tokens_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_payment_tokens/redeem_unblinded_payment_tokens_url_request_builder_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/create_confirmation_url_request_builder_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/fetch_payment_token_url_request_builder_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/redeem_unblinded_token_delegate_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/redeem_unblinded_token_delegate_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/redeem_unblinded_token_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/user_data/confirmation_build_channel_dto_user_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/user_data/confirmation_conversion_dto_user_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/user_data/confirmation_dto_user_data_builder_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/user_data/confirmation_experiment_dto_user_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/user_data/confirmation_locale_dto_user_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/redeem_unblinded_token/user_data/confirmation_platform_dto_user_data_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/refill_unblinded_tokens/get_signed_tokens_url_request_builder_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/refill_unblinded_tokens/refill_unblinded_tokens_delegate_mock.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/refill_unblinded_tokens/refill_unblinded_tokens_delegate_mock.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/refill_unblinded_tokens/refill_unblinded_tokens_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/tokens/refill_unblinded_tokens/request_signed_tokens_url_request_builder_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/unittest_base.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/unittest_base.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/unittest_util.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/unittest_util.h",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/url_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/user_activity/page_transition_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/user_activity/user_activity_scoring_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/user_activity/user_activity_scoring_util_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/user_activity/user_activity_unittest.cc",
      "//brave/vendor/bat-native-ads/src/bat/ads/internal/user_activity/user_activity_util_unittest.cc",
    ]

    deps = [
      "//base/test:test_support",
      "//brave/browser:browser_process",
      "//brave/components/brave_ads/browser:browser",
      "//brave/components/brave_ads/browser:testutil",
      "//brave/components/brave_rewards/browser:browser",
      "//brave/components/brave_rewards/common:common",
      "//brave/components/brave_rewards/test:brave_rewards_unit_tests",
      "//brave/components/challenge_bypass_ristretto",
      "//brave/test:brave_browser_tests",
      "//brave/vendor/bat-native-ads",
      "//brave/vendor/bat-native-ledger",
      "//brave/vendor/bat-native-rapidjson",
      "//brave/vendor/bat-native-tweetnacl:tweetnacl",
      "//chrome/browser:browser",
      "//components/prefs:prefs",
      "//content/test:test_support",
    ]

    data = [ "//brave/vendor/bat-native-ads/data/" ]

    configs += [ "//brave/vendor/bat-native-ads:internal_config" ]
  }  # if (brave_ads_enabled)
}  # source_set("brave_ads_unit_tests")
