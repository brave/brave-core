<!-- Copyright (c) 2025 The Brave Authors. All rights reserved.
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this file,
You can obtain one at https://mozilla.org/MPL/2.0/. -->

<style include="cr-shared-style settings-shared">
  .list {
    display: flex;
    flex-direction: column;
    width: 100%;
    border: 1px solid var(--leo-color-divider-subtle);
    border-radius: var(--leo-radius-m);
    margin-bottom: calc(var(--cr-section-padding) / 2);
  }

  .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--leo-spacing-l) var(--leo-spacing-xl);
    border-bottom: 1px solid var(--leo-color-divider-subtle);
  }

  .container:last-of-type {
    border-bottom: none;
  }
</style>

<div class="cr-row first two-line">
  <div class="flex">
    <div class="label">$i18nRaw{containersDesc}</div>
  </div>
  <cr-button
    on-click="onAddContainerClick_"
    size="small"
  >
    $i18n{containersAddContainer}
  </cr-button>
</div>

<template
  is="dom-if"
  if="[[containersList_.length]]"
>
  <div class="cr-row continuation">
    <div class="list">
      <template
        is="dom-repeat"
        items="[[containersList_]]"
      >
        <div class="container">
          <div>
            <div class="label">[[item.name]]</div>
          </div>
          <div>
            <cr-icon-button
              on-click="onEditContainerClick_"
              class="size-20"
              iron-icon="edit-pencil"
            >
            </cr-icon-button>
            <cr-icon-button
              on-click="onDeleteContainerClick_"
              class="size-20"
              iron-icon="trash"
            >
            </cr-icon-button>
          </div>
        </div>
      </template>
    </div>
  </div>
</template>

<template
  is="dom-if"
  if="[[editingContainer_]]"
  restamp
>
  <cr-dialog
    id="editContainerDialog"
    show-close-button
    show-on-attach
    on-close="onCancelDialog_"
  >
    <div slot="title">[[editDialogTitle_]]</div>
    <div slot="body">
      <div class="flex">
        <cr-input
          value="{{editingContainer_.name}}"
          autofocus
          required
          auto-validate
          pattern=".+"
          label="$i18n{containersContainerName}"
          placeholder="$i18n{containersContainerNamePlaceholder}"
        >
        </cr-input>
      </div>
    </div>
    <div slot="button-container">
      <cr-button
        class="cancel-button"
        on-click="onCancelDialog_"
      >
        $i18n{cancel}
      </cr-button>
      <cr-button
        class="action-button"
        on-click="onSaveContainerFromDialog_"
        disabled="[[!editingContainer_.name]]"
      >
        $i18n{save}
      </cr-button>
    </div>
  </cr-dialog>
</template>

<template
  is="dom-if"
  if="[[deletingContainer_]]"
  restamp
>
  <cr-dialog
    id="deleteContainerDialog"
    show-close-button
    show-on-attach
    on-close="onCancelDialog_"
  >
    <div slot="title">$i18n{containersDeleteContainer}</div>
    <div slot="body">
      <div class="label">
        [[i18n('containersDeleteContainerDescription',
        deletingContainer_.name)]]
      </div>
    </div>
    <div slot="button-container">
      <cr-button
        class="cancel-button"
        on-click="onCancelDialog_"
      >
        $i18n{cancel}
      </cr-button>
      <cr-button
        class="tonal-button"
        on-click="onDeleteContainerFromDialog_"
      >
        $i18n{delete}
      </cr-button>
    </div>
  </cr-dialog>
</template>
