diff --git a/base/strings/string_util.cc b/base/strings/string_util.cc
index 78569332be857395ba9361b4847eb073ce8e8853..5f7d73dc41c813e02653c2fe9e24a760a36e76e9 100644
--- a/base/strings/string_util.cc
+++ b/base/strings/string_util.cc
@@ -21,7 +21,6 @@
 #include <type_traits>
 #include <vector>
 
-#include "base/cfi_buildflags.h"
 #include "base/check_op.h"
 #include "base/cxx17_backports.h"
 #include "base/no_destructor.h"
@@ -36,8 +35,7 @@ namespace base {
 bool IsWprintfFormatPortable(const wchar_t* format) {
   // This snippet of code checks that we can build C++17 code.
   // TODO(thakis): Enable this on all platforms, and then remove it again.
-#if !defined(OS_IOS) && !defined(OS_MAC) && !BUILDFLAG(CFI_ICALL_CHECK) && \
-    !BUILDFLAG(CFI_CAST_CHECK)
+#if defined(OS_WIN)
   if constexpr (constexpr int i = 0; i > 0) {
   }
 #endif
