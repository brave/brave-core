diff --git a/build/rust/run_build_script.py b/build/rust/run_build_script.py
index fe8eb107cd720ade5af9bed7e99f817565d23a8c..5617360ca88c936d6d82dca8ae13f469ed85631e 100755
--- a/build/rust/run_build_script.py
+++ b/build/rust/run_build_script.py
@@ -101,11 +101,12 @@ def main():
     env["OUT_DIR"] = tempdir
     env["CARGO_MANIFEST_DIR"] = os.path.abspath(args.src_dir)
     env["HOST"] = host_triple(rustc_path)
+    env["TARGET"] = env["HOST"]
     if args.target is None:
-      env["TARGET"] = env["HOST"]
+      target = env["TARGET"]
     else:
-      env["TARGET"] = args.target
-    target_components = env["TARGET"].split("-")
+      target = args.target
+    target_components = target.split("-")
     if len(target_components) == 2:
       env["CARGO_CFG_TARGET_ARCH"] = target_components[0]
       env["CARGO_CFG_TARGET_VENDOR"] = ''
