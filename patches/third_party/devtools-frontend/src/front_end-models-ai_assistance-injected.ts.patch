diff --git a/front_end/models/ai_assistance/injected.ts b/front_end/models/ai_assistance/injected.ts
index af9c3c14e6ea48c8abddd07009d707957fa8f2a4..cff188cbbab3cf2bc988058f8d27c542a8adf2a6 100644
--- a/front_end/models/ai_assistance/injected.ts
+++ b/front_end/models/ai_assistance/injected.ts
@@ -9,10 +9,6 @@
  * They need remain isolated for importing other function so
  * bundling them for production does not create issues.
  */
-/* eslint-disable @devtools/no-adopted-style-sheets --
- * The scripts in this file aren't executed as part of DevTools front-end,
- * but are injected into the page.
- **/
 
 export const AI_ASSISTANCE_CSS_CLASS_NAME = 'ai-style-change';
 export const FREESTYLER_WORLD_NAME = 'DevTools AI Assistance';
@@ -100,19 +96,9 @@ export const PAGE_EXPOSED_FUNCTIONS = ['setElementStyles'];
 /**
  * Please see fileoverview
  */
-function setupSetElementStyles(prefix: typeof AI_ASSISTANCE_CSS_CLASS_NAME): void {
-  // Executed in another world
-  const global = globalThis as unknown as {
-    freestyler: FreestylerBinding,
-    setElementStyles: unknown,
-  };
-  async function setElementStyles(
-      el: HTMLElement&{
-        // eslint-disable-next-line
-        __freestylerClassName?: `${typeof AI_ASSISTANCE_CSS_CLASS_NAME}-${number}`,
-      },
-      styles: Record<string, string>,
-      ): Promise<void> {
+const setupSetElementStyles = `function setupSetElementStyles(prefix) {
+  const global = globalThis;
+  async function setElementStyles(el, styles) {
     let selector = el.tagName.toLowerCase();
     if (el.id) {
       selector = '#' + el.id;
@@ -131,7 +117,7 @@ function setupSetElementStyles(prefix: typeof AI_ASSISTANCE_CSS_CLASS_NAME): voi
 
     // __freestylerClassName is not exposed to the page due to this being
     // run in the isolated world.
-    const className = el.__freestylerClassName ?? `${prefix}-${global.freestyler.id}`;
+    const className = el.__freestylerClassName ?? \`\${prefix}-\${global.freestyler.id}\`;
     el.__freestylerClassName = className;
     el.classList.add(className);
 
@@ -140,7 +126,6 @@ function setupSetElementStyles(prefix: typeof AI_ASSISTANCE_CSS_CLASS_NAME): voi
       // if it's kebab case.
       el.style.removeProperty(key);
       // If it's camel case.
-      // @ts-expect-error this won't throw if wrong
       el.style[key] = '';
     }
 
@@ -168,7 +153,7 @@ function setupSetElementStyles(prefix: typeof AI_ASSISTANCE_CSS_CLASS_NAME): voi
             continue;
           }
 
-          hasAiStyleChange = rule.selectorText.startsWith(`.${prefix}`);
+          hasAiStyleChange = rule.selectorText.startsWith(\`.\${prefix}\`);
           if (hasAiStyleChange) {
             stylesheet = sheet;
             break;
@@ -183,6 +168,6 @@ function setupSetElementStyles(prefix: typeof AI_ASSISTANCE_CSS_CLASS_NAME): voi
   }
 
   global.setElementStyles = setElementStyles;
-}
+}`;
 
-export const injectedFunctions = `(${String(setupSetElementStyles)})('${AI_ASSISTANCE_CSS_CLASS_NAME}')`;
+export const injectedFunctions = `(${setupSetElementStyles})('${AI_ASSISTANCE_CSS_CLASS_NAME}')`;
