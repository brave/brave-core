<!DOCTYPE html>
<!-- navigator.userAgent test from service worker -->
<html>
  <head>
    <title></title>
    <meta charset="utf-8">
  </head>
  <body>
    <script>
      navigator.serviceWorker.register('service-workers-useragent.js')
      navigator.serviceWorker.onmessage = function (e) {
        if (navigator.userAgent == e.data) {
          document.title = "pass";
        } else {
          document.title = "fail";
        }
      };
      navigator.serviceWorker.ready.then(function(registration) {
        if (!navigator.serviceWorker.controller) {
          window.location.reload();
        } else {
          navigator.serviceWorker.controller.postMessage("generate");
        }
      });
    </script>
  </body>
</html>
